{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\t-aliraiyan\\\\Downloads\\\\recommending_Project\\\\recommending_Project\\\\Project\\\\auth-app\\\\frontend\\\\src\\\\components\\\\PopularBooks.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './PopularBooks.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PopularBooks = () => {\n  _s();\n  const [popularBooks, setPopularBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [error, setError] = useState('');\n  const [limit, setLimit] = useState(50);\n\n  // AbortController ref to cancel previous requests\n  const abortControllerRef = useRef(null);\n  const loadPopularBooks = async () => {\n    // Cancel previous request if it exists\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n\n    // Create new AbortController for this request\n    abortControllerRef.current = new AbortController();\n    setIsLoading(true);\n    setError('');\n    setHasLoaded(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/books/popular?limit=${limit}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        signal: abortControllerRef.current.signal\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      setPopularBooks(data.books || []);\n    } catch (error) {\n      // Don't show error for aborted requests\n      if (error.name !== 'AbortError') {\n        console.error('Popular books error:', error);\n        setError('Failed to load popular books. Please try again.');\n        setPopularBooks([]);\n      }\n    } finally {\n      setIsLoading(false);\n      abortControllerRef.current = null;\n    }\n  };\n  const handleLimitChange = newLimit => {\n    setLimit(newLimit);\n  };\n  const handleLikeBook = async book => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/books/like', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          book_name: book.name,\n          book_author: book.author,\n          book_genres: book.genres\n        })\n      });\n      if (response.ok) {\n        // Update the book in popular books\n        setPopularBooks(prevBooks => prevBooks.map(b => b.name === book.name ? {\n          ...b,\n          user_interaction: 'like',\n          likes: (b.likes || 0) + 1\n        } : b));\n      }\n    } catch (error) {\n      console.error('Error liking book:', error);\n    }\n  };\n  const handleDislikeBook = async book => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/books/dislike', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          book_name: book.name,\n          book_author: book.author,\n          book_genres: book.genres\n        })\n      });\n      if (response.ok) {\n        // Update the book in popular books\n        setPopularBooks(prevBooks => prevBooks.map(b => b.name === book.name ? {\n          ...b,\n          user_interaction: 'dislike',\n          dislikes: (b.dislikes || 0) + 1\n        } : b));\n      }\n    } catch (error) {\n      console.error('Error disliking book:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popular-books\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popular-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Popular Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"limit-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"limit-select\",\n            children: \"Number of books:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"limit-select\",\n            value: limit,\n            onChange: e => handleLimitChange(Number(e.target.value)),\n            disabled: isLoading,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 20,\n              children: \"20 books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 50,\n              children: \"50 books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 100,\n              children: \"100 books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 200,\n              children: \"200 books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadPopularBooks,\n          disabled: isLoading,\n          className: \"load-button\",\n          children: isLoading ? 'Loading...' : 'Load Popular Books'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), \"Loading popular books...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), hasLoaded && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popular-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Popular Books (\", popularBooks.length, \" books loaded)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), popularBooks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No popular books found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try again or check your connection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"books-grid\",\n        children: popularBooks.map((book, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-rank\",\n            children: [\"#\", index + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"book-title\",\n              children: book.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"book-author\",\n              children: [\"by \", book.author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"book-genres\",\n              children: book.genres\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"book-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rating\",\n                children: [\"\\u2B50 \", book.star_rating || 'N/A', \"(\", book.num_ratings || 0, \" ratings)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"popularity-score\",\n                children: [\"\\uD83D\\uDD25 Popularity: \", book.popularity_score || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"interactions\",\n                children: [\"\\uD83D\\uDC4D \", book.likes || 0, \" | \\uD83D\\uDC4E \", book.dislikes || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 23\n              }, this), book.average_rating && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"community-rating\",\n                children: [\"Community: \\u2B50 \", book.average_rating, \"(\", book.total_ratings, \" ratings)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 25\n              }, this), book.language_of_book && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"language\",\n                children: [\"\\uD83C\\uDF10 Language: \", book.language_of_book]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleLikeBook(book),\n              className: `action-button like-button ${book.user_interaction === 'like' ? 'active' : ''}`,\n              disabled: book.user_interaction === 'like',\n              children: [\"\\uD83D\\uDC4D \", book.user_interaction === 'like' ? 'Liked' : 'Like']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDislikeBook(book),\n              className: `action-button dislike-button ${book.user_interaction === 'dislike' ? 'active' : ''}`,\n              disabled: book.user_interaction === 'dislike',\n              children: [\"\\uD83D\\uDC4E \", book.user_interaction === 'dislike' ? 'Disliked' : 'Dislike']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this), !hasLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"welcome-message\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Click \\\"Load Popular Books\\\" to see the most popular books ranked by ratings and popularity!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_s(PopularBooks, \"yqPht6uvIcx5nV1h6KheYqRIzWE=\");\n_c = PopularBooks;\nexport default PopularBooks;\nvar _c;\n$RefreshReg$(_c, \"PopularBooks\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","PopularBooks","_s","popularBooks","setPopularBooks","isLoading","setIsLoading","hasLoaded","setHasLoaded","error","setError","limit","setLimit","abortControllerRef","loadPopularBooks","current","abort","AbortController","token","localStorage","getItem","response","fetch","method","headers","signal","ok","Error","status","data","json","books","name","console","handleLimitChange","newLimit","handleLikeBook","book","body","JSON","stringify","book_name","book_author","author","book_genres","genres","prevBooks","map","b","user_interaction","likes","handleDislikeBook","dislikes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","value","onChange","e","Number","target","disabled","onClick","length","index","star_rating","num_ratings","popularity_score","average_rating","total_ratings","language_of_book","_c","$RefreshReg$"],"sources":["C:/Users/t-aliraiyan/Downloads/recommending_Project/recommending_Project/Project/auth-app/frontend/src/components/PopularBooks.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './PopularBooks.css';\r\n\r\nconst PopularBooks = () => {\r\n  const [popularBooks, setPopularBooks] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [limit, setLimit] = useState(50);\r\n  \r\n  // AbortController ref to cancel previous requests\r\n  const abortControllerRef = useRef(null);\r\n\r\n  const loadPopularBooks = async () => {\r\n    // Cancel previous request if it exists\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort();\r\n    }\r\n\r\n    // Create new AbortController for this request\r\n    abortControllerRef.current = new AbortController();\r\n    \r\n    setIsLoading(true);\r\n    setError('');\r\n    setHasLoaded(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      const response = await fetch(\r\n        `http://localhost:5000/api/books/popular?limit=${limit}`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          signal: abortControllerRef.current.signal\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setPopularBooks(data.books || []);\r\n      \r\n    } catch (error) {\r\n      // Don't show error for aborted requests\r\n      if (error.name !== 'AbortError') {\r\n        console.error('Popular books error:', error);\r\n        setError('Failed to load popular books. Please try again.');\r\n        setPopularBooks([]);\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n      abortControllerRef.current = null;\r\n    }\r\n  };\r\n\r\n  const handleLimitChange = (newLimit) => {\r\n    setLimit(newLimit);\r\n  };\r\n\r\n  const handleLikeBook = async (book) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      const response = await fetch('http://localhost:5000/api/books/like', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          book_name: book.name,\r\n          book_author: book.author,\r\n          book_genres: book.genres\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Update the book in popular books\r\n        setPopularBooks(prevBooks =>\r\n          prevBooks.map(b =>\r\n            b.name === book.name \r\n              ? { ...b, user_interaction: 'like', likes: (b.likes || 0) + 1 }\r\n              : b\r\n          )\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error liking book:', error);\r\n    }\r\n  };\r\n\r\n  const handleDislikeBook = async (book) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      const response = await fetch('http://localhost:5000/api/books/dislike', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          book_name: book.name,\r\n          book_author: book.author,\r\n          book_genres: book.genres\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Update the book in popular books\r\n        setPopularBooks(prevBooks =>\r\n          prevBooks.map(b =>\r\n            b.name === book.name \r\n              ? { ...b, user_interaction: 'dislike', dislikes: (b.dislikes || 0) + 1 }\r\n              : b\r\n          )\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error disliking book:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"popular-books\">\r\n      <div className=\"popular-header\">\r\n        <h2>Popular Books</h2>\r\n        \r\n        <div className=\"controls-container\">\r\n          <div className=\"limit-selector\">\r\n            <label htmlFor=\"limit-select\">Number of books:</label>\r\n            <select \r\n              id=\"limit-select\"\r\n              value={limit} \r\n              onChange={(e) => handleLimitChange(Number(e.target.value))}\r\n              disabled={isLoading}\r\n            >\r\n              <option value={20}>20 books</option>\r\n              <option value={50}>50 books</option>\r\n              <option value={100}>100 books</option>\r\n              <option value={200}>200 books</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={loadPopularBooks}\r\n            disabled={isLoading}\r\n            className=\"load-button\"\r\n          >\r\n            {isLoading ? 'Loading...' : 'Load Popular Books'}\r\n          </button>\r\n        </div>\r\n        \r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        \r\n        {isLoading && (\r\n          <div className=\"loading-message\">\r\n            <div className=\"spinner\"></div>\r\n            Loading popular books...\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {hasLoaded && !isLoading && (\r\n        <div className=\"popular-results\">\r\n          <h3>Popular Books ({popularBooks.length} books loaded)</h3>\r\n          \r\n          {popularBooks.length === 0 ? (\r\n            <div className=\"no-results\">\r\n              <p>No popular books found</p>\r\n              <p>Try again or check your connection</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"books-grid\">\r\n              {popularBooks.map((book, index) => (\r\n                <div key={index} className=\"book-card\">\r\n                  <div className=\"book-rank\">#{index + 1}</div>\r\n                  \r\n                  <div className=\"book-info\">\r\n                    <h4 className=\"book-title\">{book.name}</h4>\r\n                    <p className=\"book-author\">by {book.author}</p>\r\n                    <p className=\"book-genres\">{book.genres}</p>\r\n                    \r\n                    <div className=\"book-stats\">\r\n                      <div className=\"rating\">\r\n                        ‚≠ê {book.star_rating || 'N/A'} \r\n                        ({book.num_ratings || 0} ratings)\r\n                      </div>\r\n                      \r\n                      <div className=\"popularity-score\">\r\n                        üî• Popularity: {book.popularity_score || 'N/A'}\r\n                      </div>\r\n                      \r\n                      <div className=\"interactions\">\r\n                        üëç {book.likes || 0} | üëé {book.dislikes || 0}\r\n                      </div>\r\n                      \r\n                      {book.average_rating && (\r\n                        <div className=\"community-rating\">\r\n                          Community: ‚≠ê {book.average_rating} \r\n                          ({book.total_ratings} ratings)\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {book.language_of_book && (\r\n                        <div className=\"language\">\r\n                          üåê Language: {book.language_of_book}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"book-actions\">\r\n                    <button\r\n                      onClick={() => handleLikeBook(book)}\r\n                      className={`action-button like-button ${book.user_interaction === 'like' ? 'active' : ''}`}\r\n                      disabled={book.user_interaction === 'like'}\r\n                    >\r\n                      üëç {book.user_interaction === 'like' ? 'Liked' : 'Like'}\r\n                    </button>\r\n                    \r\n                    <button\r\n                      onClick={() => handleDislikeBook(book)}\r\n                      className={`action-button dislike-button ${book.user_interaction === 'dislike' ? 'active' : ''}`}\r\n                      disabled={book.user_interaction === 'dislike'}\r\n                    >\r\n                      üëé {book.user_interaction === 'dislike' ? 'Disliked' : 'Dislike'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {!hasLoaded && (\r\n        <div className=\"welcome-message\">\r\n          <p>Click \"Load Popular Books\" to see the most popular books ranked by ratings and popularity!</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopularBooks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}