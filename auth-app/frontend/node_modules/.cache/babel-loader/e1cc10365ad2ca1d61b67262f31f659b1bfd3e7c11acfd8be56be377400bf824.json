{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\t-aliraiyan\\\\Downloads\\\\recommending_Project\\\\recommending_Project\\\\Project\\\\auth-app\\\\frontend\\\\src\\\\components\\\\UserPreferences.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPreferences = () => {\n  _s();\n  const [likedGenres, setLikedGenres] = useState([]);\n  const [dislikedGenres, setDislikedGenres] = useState([]);\n  const [likedBooks, setLikedBooks] = useState([]);\n  const [dislikedBooks, setDislikedBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('genres');\n  const [removingBook, setRemovingBook] = useState(null);\n  useEffect(() => {\n    fetchUserPreferences();\n  }, []);\n  const fetchUserPreferences = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const headers = {\n        'Authorization': `Bearer ${token}`\n      };\n\n      // Fetch all data in parallel\n      const [likedGenresRes, dislikedGenresRes, likedBooksRes, dislikedBooksRes] = await Promise.all([axios.get('http://localhost:5000/api/books/liked-genres', {\n        headers\n      }), axios.get('http://localhost:5000/api/books/disliked-genres', {\n        headers\n      }), axios.get('http://localhost:5000/api/books/user-interactions?action=like', {\n        headers\n      }), axios.get('http://localhost:5000/api/books/user-interactions?action=dislike', {\n        headers\n      })]);\n      setLikedGenres(likedGenresRes.data.genres || []);\n      setDislikedGenres(dislikedGenresRes.data.genres || []);\n      setLikedBooks(likedBooksRes.data.interactions || []);\n      setDislikedBooks(dislikedBooksRes.data.interactions || []);\n    } catch (error) {\n      console.error('Error fetching user preferences:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRemoveInteraction = async (bookName, action) => {\n    try {\n      setRemovingBook(bookName);\n      const token = localStorage.getItem('token');\n      await axios.post('http://localhost:5000/api/books/remove-interaction', {\n        book_name: bookName\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      // Update local state immediately for better UX\n      if (action === 'like') {\n        setLikedBooks(prev => prev.filter(book => book.book_name !== bookName));\n      } else {\n        setDislikedBooks(prev => prev.filter(book => book.book_name !== bookName));\n      }\n\n      // Refresh all preferences to update genre counts\n      await fetchUserPreferences();\n      toast.success(`Removed ${action} for \"${bookName}\"`);\n    } catch (error) {\n      console.error('Error removing interaction:', error);\n      toast.error('Failed to remove book interaction');\n    } finally {\n      setRemovingBook(null);\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-3 text-gray-400\",\n            children: \"Loading your preferences...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card rounded-2xl p-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6 text-gray-400 mr-3\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-white\",\n          children: \"Your Reading Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('genres'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all duration-200 ${activeTab === 'genres' ? 'bg-blue-500/20 text-blue-400 border border-blue-500' : 'bg-white/5 text-gray-400 border border-white/20 hover:bg-white/10'}`,\n          children: \"Genre Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('books'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all duration-200 ${activeTab === 'books' ? 'bg-blue-500/20 text-blue-400 border border-blue-500' : 'bg-white/5 text-gray-400 border border-white/20 hover:bg-white/10'}`,\n          children: \"Book History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), activeTab === 'genres' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5 text-green-400 mr-2\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-white\",\n            children: \"Favorite Genres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-auto text-sm text-gray-400\",\n            children: [\"(\", likedGenres.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), likedGenres.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-12 h-12 text-gray-400 mx-auto mb-3\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"No favorite genres yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm mt-1\",\n            children: \"Like some books to see your preferences!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: likedGenres.map((genre, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between bg-green-500/10 border border-green-500/20 rounded-lg p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-300 font-medium\",\n              children: genre.genre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-green-400\",\n                children: [genre.count, \" book\", genre.count !== 1 ? 's' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 bg-green-500/20 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-green-500 h-2 rounded-full transition-all duration-300\",\n                  style: {\n                    width: `${Math.min(genre.count / Math.max(...likedGenres.map(g => g.count)) * 100, 100)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5 text-red-400 mr-2\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-white\",\n            children: \"Disliked Genres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-auto text-sm text-gray-400\",\n            children: [\"(\", dislikedGenres.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), dislikedGenres.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-12 h-12 text-gray-400 mx-auto mb-3\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"No disliked genres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm mt-1\",\n            children: \"Dislike books to track preferences\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: dislikedGenres.map((genre, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between bg-red-500/10 border border-red-500/20 rounded-lg p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-300 font-medium\",\n              children: genre.genre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-red-400\",\n                children: [genre.count, \" book\", genre.count !== 1 ? 's' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 bg-red-500/20 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-red-500 h-2 rounded-full transition-all duration-300\",\n                  style: {\n                    width: `${Math.min(genre.count / Math.max(...dislikedGenres.map(g => g.count)) * 100, 100)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this), activeTab === 'books' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5 text-green-400 mr-2\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-white\",\n            children: \"Liked Books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-auto text-sm text-gray-400\",\n            children: [\"(\", likedBooks.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), likedBooks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-12 h-12 text-gray-400 mx-auto mb-3\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"No liked books yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm mt-1\",\n            children: \"Start liking books to see them here!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 max-h-96 overflow-y-auto\",\n          children: likedBooks.map((book, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative bg-green-500/10 border border-green-500/20 rounded-lg p-3 group hover:bg-green-500/15 transition-all duration-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRemoveInteraction(book.book_name, 'like'),\n              disabled: removingBook === book.book_name,\n              className: \"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-full p-1 disabled:opacity-50\",\n              title: \"Remove like\",\n              children: removingBook === book.book_name ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 animate-spin rounded-full border-2 border-red-400 border-t-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-green-300 font-medium mb-1 pr-8\",\n              children: book.book_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400 mb-1\",\n              children: [\"by \", book.book_author || 'Unknown Author']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-green-400\",\n                children: book.book_genres && book.book_genres.length > 0 ? book.book_genres.join(', ') : 'No genres'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: formatDate(book.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5 text-red-400 mr-2\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-white\",\n            children: \"Disliked Books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-auto text-sm text-gray-400\",\n            children: [\"(\", dislikedBooks.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), dislikedBooks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-12 h-12 text-gray-400 mx-auto mb-3\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"No disliked books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm mt-1\",\n            children: \"Disliked books will appear here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 max-h-96 overflow-y-auto\",\n          children: dislikedBooks.map((book, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative bg-red-500/10 border border-red-500/20 rounded-lg p-3 group hover:bg-red-500/15 transition-all duration-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRemoveInteraction(book.book_name, 'dislike'),\n              disabled: removingBook === book.book_name,\n              className: \"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-full p-1 disabled:opacity-50\",\n              title: \"Remove dislike\",\n              children: removingBook === book.book_name ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 animate-spin rounded-full border-2 border-red-400 border-t-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-red-300 font-medium mb-1 pr-8\",\n              children: book.book_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400 mb-1\",\n              children: [\"by \", book.book_author || 'Unknown Author']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-red-400\",\n                children: book.book_genres && book.book_genres.length > 0 ? book.book_genres.join(', ') : 'No genres'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: formatDate(book.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(UserPreferences, \"dKW9MiX2vVu+z5DsFWC6U6hjJaA=\");\n_c = UserPreferences;\nexport default UserPreferences;\nvar _c;\n$RefreshReg$(_c, \"UserPreferences\");","map":{"version":3,"names":["React","useState","useEffect","axios","toast","jsxDEV","_jsxDEV","UserPreferences","_s","likedGenres","setLikedGenres","dislikedGenres","setDislikedGenres","likedBooks","setLikedBooks","dislikedBooks","setDislikedBooks","loading","setLoading","activeTab","setActiveTab","removingBook","setRemovingBook","fetchUserPreferences","token","localStorage","getItem","headers","likedGenresRes","dislikedGenresRes","likedBooksRes","dislikedBooksRes","Promise","all","get","data","genres","interactions","error","console","handleRemoveInteraction","bookName","action","post","book_name","prev","filter","book","success","formatDate","dateString","Date","toLocaleDateString","year","month","day","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","length","map","genre","index","count","style","width","Math","min","max","g","disabled","title","book_author","book_genres","join","timestamp","_c","$RefreshReg$"],"sources":["C:/Users/t-aliraiyan/Downloads/recommending_Project/recommending_Project/Project/auth-app/frontend/src/components/UserPreferences.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst UserPreferences = () => {\r\n  const [likedGenres, setLikedGenres] = useState([]);\r\n  const [dislikedGenres, setDislikedGenres] = useState([]);\r\n  const [likedBooks, setLikedBooks] = useState([]);\r\n  const [dislikedBooks, setDislikedBooks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('genres');\r\n  const [removingBook, setRemovingBook] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchUserPreferences();\r\n  }, []);\r\n\r\n  const fetchUserPreferences = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const headers = {\r\n        'Authorization': `Bearer ${token}`\r\n      };\r\n\r\n      // Fetch all data in parallel\r\n      const [likedGenresRes, dislikedGenresRes, likedBooksRes, dislikedBooksRes] = await Promise.all([\r\n        axios.get('http://localhost:5000/api/books/liked-genres', { headers }),\r\n        axios.get('http://localhost:5000/api/books/disliked-genres', { headers }),\r\n        axios.get('http://localhost:5000/api/books/user-interactions?action=like', { headers }),\r\n        axios.get('http://localhost:5000/api/books/user-interactions?action=dislike', { headers })\r\n      ]);\r\n\r\n      setLikedGenres(likedGenresRes.data.genres || []);\r\n      setDislikedGenres(dislikedGenresRes.data.genres || []);\r\n      setLikedBooks(likedBooksRes.data.interactions || []);\r\n      setDislikedBooks(dislikedBooksRes.data.interactions || []);\r\n    } catch (error) {\r\n      console.error('Error fetching user preferences:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveInteraction = async (bookName, action) => {\r\n    try {\r\n      setRemovingBook(bookName);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      await axios.post('http://localhost:5000/api/books/remove-interaction', \r\n        { book_name: bookName },\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      );\r\n\r\n      // Update local state immediately for better UX\r\n      if (action === 'like') {\r\n        setLikedBooks(prev => prev.filter(book => book.book_name !== bookName));\r\n      } else {\r\n        setDislikedBooks(prev => prev.filter(book => book.book_name !== bookName));\r\n      }\r\n\r\n      // Refresh all preferences to update genre counts\r\n      await fetchUserPreferences();\r\n      \r\n      toast.success(`Removed ${action} for \"${bookName}\"`);\r\n    } catch (error) {\r\n      console.error('Error removing interaction:', error);\r\n      toast.error('Failed to remove book interaction');\r\n    } finally {\r\n      setRemovingBook(null);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"w-full\">\r\n        <div className=\"glass-card rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-center py-12\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-400\"></div>\r\n            <span className=\"ml-3 text-gray-400\">Loading your preferences...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      {/* Header */}\r\n      <div className=\"glass-card rounded-2xl p-6 mb-8\">\r\n        <div className=\"flex items-center mb-4\">\r\n          <svg className=\"w-6 h-6 text-gray-400 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n          </svg>\r\n          <h2 className=\"text-xl font-semibold text-white\">Your Reading Preferences</h2>\r\n        </div>\r\n        \r\n        {/* Tab Navigation */}\r\n        <div className=\"flex space-x-4\">\r\n          <button\r\n            onClick={() => setActiveTab('genres')}\r\n            className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\r\n              activeTab === 'genres'\r\n                ? 'bg-blue-500/20 text-blue-400 border border-blue-500'\r\n                : 'bg-white/5 text-gray-400 border border-white/20 hover:bg-white/10'\r\n            }`}\r\n          >\r\n            Genre Preferences\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('books')}\r\n            className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\r\n              activeTab === 'books'\r\n                ? 'bg-blue-500/20 text-blue-400 border border-blue-500'\r\n                : 'bg-white/5 text-gray-400 border border-white/20 hover:bg-white/10'\r\n            }`}\r\n          >\r\n            Book History\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      {activeTab === 'genres' && (\r\n        <div className=\"grid md:grid-cols-2 gap-8\">\r\n          {/* Liked Genres */}\r\n          <div className=\"glass-card rounded-2xl p-6\">\r\n            <div className=\"flex items-center mb-6\">\r\n              <svg className=\"w-5 h-5 text-green-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5\" />\r\n              </svg>\r\n              <h3 className=\"text-lg font-semibold text-white\">Favorite Genres</h3>\r\n              <span className=\"ml-auto text-sm text-gray-400\">({likedGenres.length})</span>\r\n            </div>\r\n\r\n            {likedGenres.length === 0 ? (\r\n              <div className=\"text-center py-8\">\r\n                <svg className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\r\n                </svg>\r\n                <p className=\"text-gray-400\">No favorite genres yet</p>\r\n                <p className=\"text-gray-500 text-sm mt-1\">Like some books to see your preferences!</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-3\">\r\n                {likedGenres.map((genre, index) => (\r\n                  <div key={index} className=\"flex items-center justify-between bg-green-500/10 border border-green-500/20 rounded-lg p-3\">\r\n                    <span className=\"text-green-300 font-medium\">{genre.genre}</span>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className=\"text-sm text-green-400\">{genre.count} book{genre.count !== 1 ? 's' : ''}</span>\r\n                      <div className=\"w-16 bg-green-500/20 rounded-full h-2\">\r\n                        <div \r\n                          className=\"bg-green-500 h-2 rounded-full transition-all duration-300\"\r\n                          style={{ width: `${Math.min((genre.count / Math.max(...likedGenres.map(g => g.count))) * 100, 100)}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Disliked Genres */}\r\n          <div className=\"glass-card rounded-2xl p-6\">\r\n            <div className=\"flex items-center mb-6\">\r\n              <svg className=\"w-5 h-5 text-red-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5\" />\r\n              </svg>\r\n              <h3 className=\"text-lg font-semibold text-white\">Disliked Genres</h3>\r\n              <span className=\"ml-auto text-sm text-gray-400\">({dislikedGenres.length})</span>\r\n            </div>\r\n\r\n            {dislikedGenres.length === 0 ? (\r\n              <div className=\"text-center py-8\">\r\n                <svg className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728\" />\r\n                </svg>\r\n                <p className=\"text-gray-400\">No disliked genres</p>\r\n                <p className=\"text-gray-500 text-sm mt-1\">Dislike books to track preferences</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-3\">\r\n                {dislikedGenres.map((genre, index) => (\r\n                  <div key={index} className=\"flex items-center justify-between bg-red-500/10 border border-red-500/20 rounded-lg p-3\">\r\n                    <span className=\"text-red-300 font-medium\">{genre.genre}</span>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className=\"text-sm text-red-400\">{genre.count} book{genre.count !== 1 ? 's' : ''}</span>\r\n                      <div className=\"w-16 bg-red-500/20 rounded-full h-2\">\r\n                        <div \r\n                          className=\"bg-red-500 h-2 rounded-full transition-all duration-300\"\r\n                          style={{ width: `${Math.min((genre.count / Math.max(...dislikedGenres.map(g => g.count))) * 100, 100)}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'books' && (\r\n        <div className=\"grid md:grid-cols-2 gap-8\">\r\n          {/* Liked Books */}\r\n          <div className=\"glass-card rounded-2xl p-6\">\r\n            <div className=\"flex items-center mb-6\">\r\n              <svg className=\"w-5 h-5 text-green-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5\" />\r\n              </svg>\r\n              <h3 className=\"text-lg font-semibold text-white\">Liked Books</h3>\r\n              <span className=\"ml-auto text-sm text-gray-400\">({likedBooks.length})</span>\r\n            </div>\r\n\r\n            {likedBooks.length === 0 ? (\r\n              <div className=\"text-center py-8\">\r\n                <svg className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n                </svg>\r\n                <p className=\"text-gray-400\">No liked books yet</p>\r\n                <p className=\"text-gray-500 text-sm mt-1\">Start liking books to see them here!</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n                {likedBooks.map((book, index) => (\r\n                  <div key={index} className=\"relative bg-green-500/10 border border-green-500/20 rounded-lg p-3 group hover:bg-green-500/15 transition-all duration-200\">\r\n                    {/* Remove Button */}\r\n                    <button\r\n                      onClick={() => handleRemoveInteraction(book.book_name, 'like')}\r\n                      disabled={removingBook === book.book_name}\r\n                      className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-full p-1 disabled:opacity-50\"\r\n                      title=\"Remove like\"\r\n                    >\r\n                      {removingBook === book.book_name ? (\r\n                        <div className=\"w-4 h-4 animate-spin rounded-full border-2 border-red-400 border-t-transparent\"></div>\r\n                      ) : (\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                      )}\r\n                    </button>\r\n\r\n                    <h4 className=\"text-green-300 font-medium mb-1 pr-8\">{book.book_name}</h4>\r\n                    <p className=\"text-sm text-gray-400 mb-1\">by {book.book_author || 'Unknown Author'}</p>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-xs text-green-400\">\r\n                        {book.book_genres && book.book_genres.length > 0 ? book.book_genres.join(', ') : 'No genres'}\r\n                      </span>\r\n                      <span className=\"text-xs text-gray-500\">{formatDate(book.timestamp)}</span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Disliked Books */}\r\n          <div className=\"glass-card rounded-2xl p-6\">\r\n            <div className=\"flex items-center mb-6\">\r\n              <svg className=\"w-5 h-5 text-red-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5\" />\r\n              </svg>\r\n              <h3 className=\"text-lg font-semibold text-white\">Disliked Books</h3>\r\n              <span className=\"ml-auto text-sm text-gray-400\">({dislikedBooks.length})</span>\r\n            </div>\r\n\r\n            {dislikedBooks.length === 0 ? (\r\n              <div className=\"text-center py-8\">\r\n                <svg className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728\" />\r\n                </svg>\r\n                <p className=\"text-gray-400\">No disliked books</p>\r\n                <p className=\"text-gray-500 text-sm mt-1\">Disliked books will appear here</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n                {dislikedBooks.map((book, index) => (\r\n                  <div key={index} className=\"relative bg-red-500/10 border border-red-500/20 rounded-lg p-3 group hover:bg-red-500/15 transition-all duration-200\">\r\n                    {/* Remove Button */}\r\n                    <button\r\n                      onClick={() => handleRemoveInteraction(book.book_name, 'dislike')}\r\n                      disabled={removingBook === book.book_name}\r\n                      className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-full p-1 disabled:opacity-50\"\r\n                      title=\"Remove dislike\"\r\n                    >\r\n                      {removingBook === book.book_name ? (\r\n                        <div className=\"w-4 h-4 animate-spin rounded-full border-2 border-red-400 border-t-transparent\"></div>\r\n                      ) : (\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                      )}\r\n                    </button>\r\n\r\n                    <h4 className=\"text-red-300 font-medium mb-1 pr-8\">{book.book_name}</h4>\r\n                    <p className=\"text-sm text-gray-400 mb-1\">by {book.book_author || 'Unknown Author'}</p>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-xs text-red-400\">\r\n                        {book.book_genres && book.book_genres.length > 0 ? book.book_genres.join(', ') : 'No genres'}\r\n                      </span>\r\n                      <span className=\"text-xs text-gray-500\">{formatDate(book.timestamp)}</span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPreferences;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACU,cAAc,EAAEC,iBAAiB,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,QAAQ,CAAC;EACpD,MAAM,CAACoB,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAEtDC,SAAS,CAAC,MAAM;IACdqB,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI;MACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMC,OAAO,GAAG;QACd,eAAe,EAAE,UAAUH,KAAK;MAClC,CAAC;;MAED;MACA,MAAM,CAACI,cAAc,EAAEC,iBAAiB,EAAEC,aAAa,EAAEC,gBAAgB,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC7F9B,KAAK,CAAC+B,GAAG,CAAC,8CAA8C,EAAE;QAAEP;MAAQ,CAAC,CAAC,EACtExB,KAAK,CAAC+B,GAAG,CAAC,iDAAiD,EAAE;QAAEP;MAAQ,CAAC,CAAC,EACzExB,KAAK,CAAC+B,GAAG,CAAC,+DAA+D,EAAE;QAAEP;MAAQ,CAAC,CAAC,EACvFxB,KAAK,CAAC+B,GAAG,CAAC,kEAAkE,EAAE;QAAEP;MAAQ,CAAC,CAAC,CAC3F,CAAC;MAEFjB,cAAc,CAACkB,cAAc,CAACO,IAAI,CAACC,MAAM,IAAI,EAAE,CAAC;MAChDxB,iBAAiB,CAACiB,iBAAiB,CAACM,IAAI,CAACC,MAAM,IAAI,EAAE,CAAC;MACtDtB,aAAa,CAACgB,aAAa,CAACK,IAAI,CAACE,YAAY,IAAI,EAAE,CAAC;MACpDrB,gBAAgB,CAACe,gBAAgB,CAACI,IAAI,CAACE,YAAY,IAAI,EAAE,CAAC;IAC5D,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC1D,CAAC,SAAS;MACRpB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMsB,uBAAuB,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,MAAM,KAAK;IAC1D,IAAI;MACFpB,eAAe,CAACmB,QAAQ,CAAC;MACzB,MAAMjB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAE3C,MAAMvB,KAAK,CAACwC,IAAI,CAAC,oDAAoD,EACnE;QAAEC,SAAS,EAAEH;MAAS,CAAC,EACvB;QACEd,OAAO,EAAE;UACP,eAAe,EAAE,UAAUH,KAAK,EAAE;UAClC,cAAc,EAAE;QAClB;MACF,CACF,CAAC;;MAED;MACA,IAAIkB,MAAM,KAAK,MAAM,EAAE;QACrB5B,aAAa,CAAC+B,IAAI,IAAIA,IAAI,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACH,SAAS,KAAKH,QAAQ,CAAC,CAAC;MACzE,CAAC,MAAM;QACLzB,gBAAgB,CAAC6B,IAAI,IAAIA,IAAI,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACH,SAAS,KAAKH,QAAQ,CAAC,CAAC;MAC5E;;MAEA;MACA,MAAMlB,oBAAoB,CAAC,CAAC;MAE5BnB,KAAK,CAAC4C,OAAO,CAAC,WAAWN,MAAM,SAASD,QAAQ,GAAG,CAAC;IACtD,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDlC,KAAK,CAACkC,KAAK,CAAC,mCAAmC,CAAC;IAClD,CAAC,SAAS;MACRhB,eAAe,CAAC,IAAI,CAAC;IACvB;EACF,CAAC;EAED,MAAM2B,UAAU,GAAIC,UAAU,IAAK;IACjC,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,EAAE;MACtDC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,OAAO;MACdC,GAAG,EAAE;IACP,CAAC,CAAC;EACJ,CAAC;EAED,IAAItC,OAAO,EAAE;IACX,oBACEX,OAAA;MAAKkD,SAAS,EAAC,QAAQ;MAAAC,QAAA,eACrBnD,OAAA;QAAKkD,SAAS,EAAC,4BAA4B;QAAAC,QAAA,eACzCnD,OAAA;UAAKkD,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrDnD,OAAA;YAAKkD,SAAS,EAAC;UAA8D;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpFvD,OAAA;YAAMkD,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAA2B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACEvD,OAAA;IAAKkD,SAAS,EAAC,QAAQ;IAAAC,QAAA,gBAErBnD,OAAA;MAAKkD,SAAS,EAAC,iCAAiC;MAAAC,QAAA,gBAC9CnD,OAAA;QAAKkD,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBACrCnD,OAAA;UAAKkD,SAAS,EAAC,4BAA4B;UAACM,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAACC,OAAO,EAAC,WAAW;UAAAP,QAAA,eAC/FnD,OAAA;YAAM2D,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAAqE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1I,CAAC,eACNvD,OAAA;UAAIkD,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC,eAGNvD,OAAA;QAAKkD,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BnD,OAAA;UACE+D,OAAO,EAAEA,CAAA,KAAMjD,YAAY,CAAC,QAAQ,CAAE;UACtCoC,SAAS,EAAE,gEACTrC,SAAS,KAAK,QAAQ,GAClB,qDAAqD,GACrD,mEAAmE,EACtE;UAAAsC,QAAA,EACJ;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTvD,OAAA;UACE+D,OAAO,EAAEA,CAAA,KAAMjD,YAAY,CAAC,OAAO,CAAE;UACrCoC,SAAS,EAAE,gEACTrC,SAAS,KAAK,OAAO,GACjB,qDAAqD,GACrD,mEAAmE,EACtE;UAAAsC,QAAA,EACJ;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL1C,SAAS,KAAK,QAAQ,iBACrBb,OAAA;MAAKkD,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBAExCnD,OAAA;QAAKkD,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzCnD,OAAA;UAAKkD,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrCnD,OAAA;YAAKkD,SAAS,EAAC,6BAA6B;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eAChGnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAsO;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3S,CAAC,eACNvD,OAAA;YAAIkD,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrEvD,OAAA;YAAMkD,SAAS,EAAC,+BAA+B;YAAAC,QAAA,GAAC,GAAC,EAAChD,WAAW,CAAC6D,MAAM,EAAC,GAAC;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1E,CAAC,EAELpD,WAAW,CAAC6D,MAAM,KAAK,CAAC,gBACvBhE,OAAA;UAAKkD,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BnD,OAAA;YAAKkD,SAAS,EAAC,sCAAsC;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eACzGnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAA8H;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnM,CAAC,eACNvD,OAAA;YAAGkD,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACvDvD,OAAA;YAAGkD,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAAwC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnF,CAAC,gBAENvD,OAAA;UAAKkD,SAAS,EAAC,WAAW;UAAAC,QAAA,EACvBhD,WAAW,CAAC8D,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBAC5BnE,OAAA;YAAiBkD,SAAS,EAAC,6FAA6F;YAAAC,QAAA,gBACtHnD,OAAA;cAAMkD,SAAS,EAAC,4BAA4B;cAAAC,QAAA,EAAEe,KAAK,CAACA;YAAK;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjEvD,OAAA;cAAKkD,SAAS,EAAC,6BAA6B;cAAAC,QAAA,gBAC1CnD,OAAA;gBAAMkD,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,GAAEe,KAAK,CAACE,KAAK,EAAC,OAAK,EAACF,KAAK,CAACE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE;cAAA;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChGvD,OAAA;gBAAKkD,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,eACpDnD,OAAA;kBACEkD,SAAS,EAAC,2DAA2D;kBACrEmB,KAAK,EAAE;oBAAEC,KAAK,EAAE,GAAGC,IAAI,CAACC,GAAG,CAAEN,KAAK,CAACE,KAAK,GAAGG,IAAI,CAACE,GAAG,CAAC,GAAGtE,WAAW,CAAC8D,GAAG,CAACS,CAAC,IAAIA,CAAC,CAACN,KAAK,CAAC,CAAC,GAAI,GAAG,EAAE,GAAG,CAAC;kBAAI;gBAAE;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpG;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA,GAVEY,KAAK;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWV,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNvD,OAAA;QAAKkD,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzCnD,OAAA;UAAKkD,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrCnD,OAAA;YAAKkD,SAAS,EAAC,2BAA2B;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eAC9FnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAA6N;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClS,CAAC,eACNvD,OAAA;YAAIkD,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrEvD,OAAA;YAAMkD,SAAS,EAAC,+BAA+B;YAAAC,QAAA,GAAC,GAAC,EAAC9C,cAAc,CAAC2D,MAAM,EAAC,GAAC;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7E,CAAC,EAELlD,cAAc,CAAC2D,MAAM,KAAK,CAAC,gBAC1BhE,OAAA;UAAKkD,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BnD,OAAA;YAAKkD,SAAS,EAAC,sCAAsC;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eACzGnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAoH;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzL,CAAC,eACNvD,OAAA;YAAGkD,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnDvD,OAAA;YAAGkD,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAAkC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7E,CAAC,gBAENvD,OAAA;UAAKkD,SAAS,EAAC,WAAW;UAAAC,QAAA,EACvB9C,cAAc,CAAC4D,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBAC/BnE,OAAA;YAAiBkD,SAAS,EAAC,yFAAyF;YAAAC,QAAA,gBAClHnD,OAAA;cAAMkD,SAAS,EAAC,0BAA0B;cAAAC,QAAA,EAAEe,KAAK,CAACA;YAAK;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC/DvD,OAAA;cAAKkD,SAAS,EAAC,6BAA6B;cAAAC,QAAA,gBAC1CnD,OAAA;gBAAMkD,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,GAAEe,KAAK,CAACE,KAAK,EAAC,OAAK,EAACF,KAAK,CAACE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE;cAAA;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC9FvD,OAAA;gBAAKkD,SAAS,EAAC,qCAAqC;gBAAAC,QAAA,eAClDnD,OAAA;kBACEkD,SAAS,EAAC,yDAAyD;kBACnEmB,KAAK,EAAE;oBAAEC,KAAK,EAAE,GAAGC,IAAI,CAACC,GAAG,CAAEN,KAAK,CAACE,KAAK,GAAGG,IAAI,CAACE,GAAG,CAAC,GAAGpE,cAAc,CAAC4D,GAAG,CAACS,CAAC,IAAIA,CAAC,CAACN,KAAK,CAAC,CAAC,GAAI,GAAG,EAAE,GAAG,CAAC;kBAAI;gBAAE;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvG;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA,GAVEY,KAAK;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWV,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEA1C,SAAS,KAAK,OAAO,iBACpBb,OAAA;MAAKkD,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBAExCnD,OAAA;QAAKkD,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzCnD,OAAA;UAAKkD,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrCnD,OAAA;YAAKkD,SAAS,EAAC,6BAA6B;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eAChGnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAsO;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3S,CAAC,eACNvD,OAAA;YAAIkD,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjEvD,OAAA;YAAMkD,SAAS,EAAC,+BAA+B;YAAAC,QAAA,GAAC,GAAC,EAAC5C,UAAU,CAACyD,MAAM,EAAC,GAAC;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC,EAELhD,UAAU,CAACyD,MAAM,KAAK,CAAC,gBACtBhE,OAAA;UAAKkD,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BnD,OAAA;YAAKkD,SAAS,EAAC,sCAAsC;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eACzGnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAoP;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzT,CAAC,eACNvD,OAAA;YAAGkD,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnDvD,OAAA;YAAGkD,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAAoC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CAAC,gBAENvD,OAAA;UAAKkD,SAAS,EAAC,oCAAoC;UAAAC,QAAA,EAChD5C,UAAU,CAAC0D,GAAG,CAAC,CAACxB,IAAI,EAAE0B,KAAK,kBAC1BnE,OAAA;YAAiBkD,SAAS,EAAC,4HAA4H;YAAAC,QAAA,gBAErJnD,OAAA;cACE+D,OAAO,EAAEA,CAAA,KAAM7B,uBAAuB,CAACO,IAAI,CAACH,SAAS,EAAE,MAAM,CAAE;cAC/DqC,QAAQ,EAAE5D,YAAY,KAAK0B,IAAI,CAACH,SAAU;cAC1CY,SAAS,EAAC,8KAA8K;cACxL0B,KAAK,EAAC,aAAa;cAAAzB,QAAA,EAElBpC,YAAY,KAAK0B,IAAI,CAACH,SAAS,gBAC9BtC,OAAA;gBAAKkD,SAAS,EAAC;cAAgF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,gBAEtGvD,OAAA;gBAAKkD,SAAS,EAAC,SAAS;gBAACM,IAAI,EAAC,MAAM;gBAACC,MAAM,EAAC,cAAc;gBAACC,OAAO,EAAC,WAAW;gBAAAP,QAAA,eAC5EnD,OAAA;kBAAM2D,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAE,CAAE;kBAACC,CAAC,EAAC;gBAAsB;kBAAAV,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC,eAETvD,OAAA;cAAIkD,SAAS,EAAC,sCAAsC;cAAAC,QAAA,EAAEV,IAAI,CAACH;YAAS;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC1EvD,OAAA;cAAGkD,SAAS,EAAC,4BAA4B;cAAAC,QAAA,GAAC,KAAG,EAACV,IAAI,CAACoC,WAAW,IAAI,gBAAgB;YAAA;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvFvD,OAAA;cAAKkD,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAChDnD,OAAA;gBAAMkD,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,EACrCV,IAAI,CAACqC,WAAW,IAAIrC,IAAI,CAACqC,WAAW,CAACd,MAAM,GAAG,CAAC,GAAGvB,IAAI,CAACqC,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG;cAAW;gBAAA3B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CAAC,eACPvD,OAAA;gBAAMkD,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAER,UAAU,CAACF,IAAI,CAACuC,SAAS;cAAC;gBAAA5B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxE,CAAC;UAAA,GAxBEY,KAAK;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAyBV,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNvD,OAAA;QAAKkD,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzCnD,OAAA;UAAKkD,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrCnD,OAAA;YAAKkD,SAAS,EAAC,2BAA2B;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eAC9FnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAA6N;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClS,CAAC,eACNvD,OAAA;YAAIkD,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpEvD,OAAA;YAAMkD,SAAS,EAAC,+BAA+B;YAAAC,QAAA,GAAC,GAAC,EAAC1C,aAAa,CAACuD,MAAM,EAAC,GAAC;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5E,CAAC,EAEL9C,aAAa,CAACuD,MAAM,KAAK,CAAC,gBACzBhE,OAAA;UAAKkD,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BnD,OAAA;YAAKkD,SAAS,EAAC,sCAAsC;YAACM,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAP,QAAA,eACzGnD,OAAA;cAAM2D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAoH;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzL,CAAC,eACNvD,OAAA;YAAGkD,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAClDvD,OAAA;YAAGkD,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAA+B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1E,CAAC,gBAENvD,OAAA;UAAKkD,SAAS,EAAC,oCAAoC;UAAAC,QAAA,EAChD1C,aAAa,CAACwD,GAAG,CAAC,CAACxB,IAAI,EAAE0B,KAAK,kBAC7BnE,OAAA;YAAiBkD,SAAS,EAAC,sHAAsH;YAAAC,QAAA,gBAE/InD,OAAA;cACE+D,OAAO,EAAEA,CAAA,KAAM7B,uBAAuB,CAACO,IAAI,CAACH,SAAS,EAAE,SAAS,CAAE;cAClEqC,QAAQ,EAAE5D,YAAY,KAAK0B,IAAI,CAACH,SAAU;cAC1CY,SAAS,EAAC,8KAA8K;cACxL0B,KAAK,EAAC,gBAAgB;cAAAzB,QAAA,EAErBpC,YAAY,KAAK0B,IAAI,CAACH,SAAS,gBAC9BtC,OAAA;gBAAKkD,SAAS,EAAC;cAAgF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,gBAEtGvD,OAAA;gBAAKkD,SAAS,EAAC,SAAS;gBAACM,IAAI,EAAC,MAAM;gBAACC,MAAM,EAAC,cAAc;gBAACC,OAAO,EAAC,WAAW;gBAAAP,QAAA,eAC5EnD,OAAA;kBAAM2D,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAE,CAAE;kBAACC,CAAC,EAAC;gBAAsB;kBAAAV,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC,eAETvD,OAAA;cAAIkD,SAAS,EAAC,oCAAoC;cAAAC,QAAA,EAAEV,IAAI,CAACH;YAAS;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACxEvD,OAAA;cAAGkD,SAAS,EAAC,4BAA4B;cAAAC,QAAA,GAAC,KAAG,EAACV,IAAI,CAACoC,WAAW,IAAI,gBAAgB;YAAA;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvFvD,OAAA;cAAKkD,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAChDnD,OAAA;gBAAMkD,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EACnCV,IAAI,CAACqC,WAAW,IAAIrC,IAAI,CAACqC,WAAW,CAACd,MAAM,GAAG,CAAC,GAAGvB,IAAI,CAACqC,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG;cAAW;gBAAA3B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CAAC,eACPvD,OAAA;gBAAMkD,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAER,UAAU,CAACF,IAAI,CAACuC,SAAS;cAAC;gBAAA5B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxE,CAAC;UAAA,GAxBEY,KAAK;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAyBV,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACrD,EAAA,CAhUID,eAAe;AAAAgF,EAAA,GAAfhF,eAAe;AAkUrB,eAAeA,eAAe;AAAC,IAAAgF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}