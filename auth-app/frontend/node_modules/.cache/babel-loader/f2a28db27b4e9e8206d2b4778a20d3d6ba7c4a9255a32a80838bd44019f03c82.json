{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\t-aliraiyan\\\\OneDrive - Microsoft\\\\Documents\\\\Project (3)\\\\Project\\\\auth-app\\\\frontend\\\\src\\\\context\\\\RecommendationCacheContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecommendationCacheContext = /*#__PURE__*/createContext();\nexport const useRecommendationCache = () => {\n  _s();\n  const context = useContext(RecommendationCacheContext);\n  if (!context) {\n    throw new Error('useRecommendationCache must be used within a RecommendationCacheProvider');\n  }\n  return context;\n};\n_s(useRecommendationCache, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const RecommendationCacheProvider = ({\n  children\n}) => {\n  _s2();\n  const [cache, setCache] = useState({});\n  const [lastFetchTimes, setLastFetchTimes] = useState({});\n  const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n\n  const getCachedData = useCallback(key => {\n    const now = Date.now();\n    const lastFetch = lastFetchTimes[key];\n    if (cache[key] && lastFetch && now - lastFetch < CACHE_DURATION) {\n      console.log(`üìÇ Cache HIT for ${key} (age: ${Math.round((now - lastFetch) / 1000)}s)`);\n      return cache[key];\n    }\n    console.log(`‚ùå Cache MISS for ${key} (${lastFetch ? 'expired' : 'not found'})`);\n    return null;\n  }, [cache, lastFetchTimes]);\n  const setCachedData = useCallback((key, data) => {\n    console.log(`üíæ Caching data for ${key}`);\n    setCache(prev => ({\n      ...prev,\n      [key]: data\n    }));\n    setLastFetchTimes(prev => ({\n      ...prev,\n      [key]: Date.now()\n    }));\n  }, []);\n  const invalidateCache = useCallback(pattern => {\n    console.log(`üóëÔ∏è Invalidating cache for pattern: ${pattern}`);\n    setCache(prev => {\n      const newCache = {\n        ...prev\n      };\n      Object.keys(newCache).forEach(key => {\n        if (key.includes(pattern)) {\n          delete newCache[key];\n        }\n      });\n      return newCache;\n    });\n    setLastFetchTimes(prev => {\n      const newTimes = {\n        ...prev\n      };\n      Object.keys(newTimes).forEach(key => {\n        if (key.includes(pattern)) {\n          delete newTimes[key];\n        }\n      });\n      return newTimes;\n    });\n  }, []);\n  const clearAllCache = useCallback(() => {\n    console.log('üóëÔ∏è Clearing all recommendation cache');\n    setCache({});\n    setLastFetchTimes({});\n  }, []);\n  const value = {\n    getCachedData,\n    setCachedData,\n    invalidateCache,\n    clearAllCache,\n    cacheSize: Object.keys(cache).length\n  };\n  return /*#__PURE__*/_jsxDEV(RecommendationCacheContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s2(RecommendationCacheProvider, \"eTqaK6VcOmGR5xJIhMegJc1XVCM=\");\n_c = RecommendationCacheProvider;\nvar _c;\n$RefreshReg$(_c, \"RecommendationCacheProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","jsxDEV","_jsxDEV","RecommendationCacheContext","useRecommendationCache","_s","context","Error","RecommendationCacheProvider","children","_s2","cache","setCache","lastFetchTimes","setLastFetchTimes","CACHE_DURATION","getCachedData","key","now","Date","lastFetch","console","log","Math","round","setCachedData","data","prev","invalidateCache","pattern","newCache","Object","keys","forEach","includes","newTimes","clearAllCache","value","cacheSize","length","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/t-aliraiyan/OneDrive - Microsoft/Documents/Project (3)/Project/auth-app/frontend/src/context/RecommendationCacheContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback } from 'react';\r\n\r\nconst RecommendationCacheContext = createContext();\r\n\r\nexport const useRecommendationCache = () => {\r\n  const context = useContext(RecommendationCacheContext);\r\n  if (!context) {\r\n    throw new Error('useRecommendationCache must be used within a RecommendationCacheProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const RecommendationCacheProvider = ({ children }) => {\r\n  const [cache, setCache] = useState({});\r\n  const [lastFetchTimes, setLastFetchTimes] = useState({});\r\n\r\n  const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\r\n\r\n  const getCachedData = useCallback((key) => {\r\n    const now = Date.now();\r\n    const lastFetch = lastFetchTimes[key];\r\n    \r\n    if (cache[key] && lastFetch && (now - lastFetch) < CACHE_DURATION) {\r\n      console.log(`üìÇ Cache HIT for ${key} (age: ${Math.round((now - lastFetch) / 1000)}s)`);\r\n      return cache[key];\r\n    }\r\n    \r\n    console.log(`‚ùå Cache MISS for ${key} (${lastFetch ? 'expired' : 'not found'})`);\r\n    return null;\r\n  }, [cache, lastFetchTimes]);\r\n\r\n  const setCachedData = useCallback((key, data) => {\r\n    console.log(`üíæ Caching data for ${key}`);\r\n    setCache(prev => ({ ...prev, [key]: data }));\r\n    setLastFetchTimes(prev => ({ ...prev, [key]: Date.now() }));\r\n  }, []);\r\n\r\n  const invalidateCache = useCallback((pattern) => {\r\n    console.log(`üóëÔ∏è Invalidating cache for pattern: ${pattern}`);\r\n    setCache(prev => {\r\n      const newCache = { ...prev };\r\n      Object.keys(newCache).forEach(key => {\r\n        if (key.includes(pattern)) {\r\n          delete newCache[key];\r\n        }\r\n      });\r\n      return newCache;\r\n    });\r\n    setLastFetchTimes(prev => {\r\n      const newTimes = { ...prev };\r\n      Object.keys(newTimes).forEach(key => {\r\n        if (key.includes(pattern)) {\r\n          delete newTimes[key];\r\n        }\r\n      });\r\n      return newTimes;\r\n    });\r\n  }, []);\r\n\r\n  const clearAllCache = useCallback(() => {\r\n    console.log('üóëÔ∏è Clearing all recommendation cache');\r\n    setCache({});\r\n    setLastFetchTimes({});\r\n  }, []);\r\n\r\n  const value = {\r\n    getCachedData,\r\n    setCachedData,\r\n    invalidateCache,\r\n    clearAllCache,\r\n    cacheSize: Object.keys(cache).length\r\n  };\r\n\r\n  return (\r\n    <RecommendationCacheContext.Provider value={value}>\r\n      {children}\r\n    </RecommendationCacheContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}