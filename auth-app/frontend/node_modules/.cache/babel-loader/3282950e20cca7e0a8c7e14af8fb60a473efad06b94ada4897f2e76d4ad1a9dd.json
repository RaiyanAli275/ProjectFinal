{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\t-aliraiyan\\\\Downloads\\\\proj\\\\recommending_Project\\\\recommending_Project\\\\Project\\\\auth-app\\\\frontend\\\\src\\\\components\\\\NetflixStyleContinueReading.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { useRecommendationCache } from '../context/RecommendationCacheContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NetflixStyleContinueReading = () => {\n  _s();\n  const {\n    token\n  } = useAuth();\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [refreshing, setRefreshing] = useState(false);\n  const {\n    getCachedData,\n    setCachedData,\n    invalidateCache\n  } = useRecommendationCache();\n  useEffect(() => {\n    fetchRecommendations(false); // Use cache first on mount\n  }, []);\n  const fetchRecommendations = async (forceRefresh = false) => {\n    try {\n      const cacheKey = 'continue-reading';\n\n      // Check cache first unless force refresh\n      if (!forceRefresh) {\n        const cachedData = getCachedData(cacheKey);\n        if (cachedData) {\n          console.log('Continue Reading: Using cached data:', cachedData);\n          setRecommendations(cachedData.recommendations || []);\n          setLoading(false);\n          return;\n        }\n      }\n      setLoading(true);\n      setError(null);\n      const endpoint = forceRefresh ? 'http://localhost:5000/api/continue-reading/refresh' : 'http://localhost:5000/api/continue-reading/';\n      const method = forceRefresh ? 'POST' : 'GET';\n      const cacheBuster = forceRefresh ? `?t=${Date.now()}` : '';\n      const fullUrl = endpoint + cacheBuster;\n      const response = await fetch(fullUrl, {\n        method: method,\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n          'Cache-Control': forceRefresh ? 'no-cache, no-store, must-revalidate' : 'max-age=300'\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Continue Reading: API response:', data);\n        setRecommendations(data.recommendations || []);\n        setError(null);\n\n        // Cache the data\n        setCachedData(cacheKey, data);\n      } else {\n        console.error('Continue Reading: API error:', data);\n        setError(data.message || 'Failed to load recommendations');\n        setRecommendations([]);\n      }\n    } catch (err) {\n      setError('Network error occurred');\n      setRecommendations([]);\n      console.error('Continue reading fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    // Clear cache for this section\n    invalidateCache('continue-reading');\n    await fetchRecommendations(true);\n    setRefreshing(false);\n  };\n  const handleBookInteraction = async (bookName, action) => {\n    try {\n      const endpoint = action === 'like' ? '/api/books/like' : '/api/books/dislike';\n      const response = await fetch(`http://localhost:5000${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          book_name: bookName,\n          book_author: '',\n          book_genres: ''\n        })\n      });\n      if (response.ok) {\n        // Use optimistic update instead of full refetch\n        // Remove the book from recommendations since user interacted with it\n        setRecommendations(prev => prev.filter(rec => rec.next_book.title !== bookName));\n      }\n    } catch (err) {\n      console.error('Interaction error:', err);\n    }\n  };\n  const handleBuyBook = async bookName => {\n    try {\n      const payload = {\n        book_name: bookName\n      };\n      const response = await axios.post('http://localhost:5000/api/books/buy', payload, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.data.url) {\n        // Open the book URL in a new tab\n        window.open(response.data.url, '_blank');\n      } else {\n        alert('Book purchase URL not available');\n      }\n    } catch (error) {\n      console.error('Buy book error:', error);\n      alert('Unable to get book purchase link');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"px-6 py-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-[#553B08]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-3 text-[#4A4A4A]\",\n          children: \"Loading series recommendations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && recommendations.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"px-6 py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-[#553B08] mb-2\",\n        children: \"\\uD83D\\uDCDA Continue Reading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[#ECE5D4] rounded-md p-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[#4A4A4A] mb-2\",\n          children: \"No series found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[#6B6B6B] text-sm\",\n          children: \"Like some books from series to see continue reading recommendations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"px-6 py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-[#553B08] mb-2\",\n          children: \"\\uD83D\\uDCDA Continue Reading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-sm text-[#553B08] bg-[#ECE5D4] px-2 py-1 rounded-md\",\n          children: [recommendations.length, \" Series\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), refreshing && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-sm text-[#553B08] bg-[#ECE5D4] px-2 py-1 rounded-md flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-3 w-3 border-b border-[#553B08] mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), \"Refreshing\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRefresh,\n        disabled: refreshing,\n        className: `text-[#6B6B6B] hover:text-[#553B08] transition-colors duration-200 p-1 ${refreshing ? 'opacity-50 cursor-not-allowed' : ''}`,\n        title: \"Refresh recommendations\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: `w-5 h-5 ${refreshing ? 'animate-spin' : ''}`,\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), recommendations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[#ECE5D4] rounded-md p-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#4A4A4A]\",\n        children: \"No series found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#6B6B6B] text-sm\",\n        children: \"Like some books from series to see continue reading recommendations!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex overflow-x-auto space-x-4 scrollbar-hide\",\n      children: recommendations.map((rec, index) => /*#__PURE__*/_jsxDEV(ContinueReadingCard, {\n        recommendation: rec,\n        onInteraction: handleBookInteraction,\n        onBuy: handleBuyBook\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n_s(NetflixStyleContinueReading, \"5uEemB+xPMm9JgmiM/35MM5joOQ=\", false, function () {\n  return [useAuth, useRecommendationCache];\n});\n_c = NetflixStyleContinueReading;\nconst ContinueReadingCard = ({\n  recommendation,\n  onInteraction,\n  onBuy\n}) => {\n  const {\n    next_book,\n    attribution,\n    series_name,\n    verification_status\n  } = recommendation;\n  const getVerificationBadge = () => {\n    if (verification_status === 'verified') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inline-flex items-center px-2 py-1 rounded text-xs bg-green-500/20 text-green-600\",\n        children: \"\\u2713 Verified\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-72 h-56 bg-[#ECE5D4] rounded-md p-6 hover:scale-105 transition-transform duration-200 group relative flex-shrink-0 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex-grow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-base font-semibold text-[#231F20] leading-tight mb-2 line-clamp-2\",\n        title: next_book.title,\n        children: next_book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-[#553B08] mb-2 line-clamp-1\",\n        title: next_book.author,\n        children: [\"by \", next_book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-green-600 mb-2 font-medium\",\n        children: attribution\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bg-[#F3EDE3] text-[#553B08] px-2 py-1 rounded text-xs\",\n          children: series_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), getVerificationBadge()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-2 mt-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onInteraction(next_book.title, 'like'),\n        className: \"flex-1 flex items-center justify-center px-2 py-2 rounded-md bg-green-500/20 text-green-600 hover:bg-green-500/30 transition-colors duration-200 text-sm font-medium\",\n        title: \"Like this book\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 mr-1\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.60L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 712-2h2.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), \"Like\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onBuy(next_book.title),\n        className: \"flex-1 flex items-center justify-center px-2 py-2 rounded-md bg-blue-900/20 text-blue-900 hover:bg-blue-900/30 transition-colors duration-200 text-sm font-medium\",\n        title: \"Buy this book\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 mr-1\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6.5-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m6.5-5H9.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), \"Buy\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onInteraction(next_book.title, 'dislike'),\n        className: \"flex-1 flex items-center justify-center px-2 py-2 rounded-md bg-red-500/20 text-red-600 hover:bg-red-500/30 transition-colors duration-200 text-sm font-medium\",\n        title: \"Pass on this book\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 mr-1\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 718.736 3h4.018c.163 0 .326.20.485.60L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 712 2v6a2 2 0 01-2 2h-2.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), \"Pass\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n};\n_c2 = ContinueReadingCard;\nexport default NetflixStyleContinueReading;\nvar _c, _c2;\n$RefreshReg$(_c, \"NetflixStyleContinueReading\");\n$RefreshReg$(_c2, \"ContinueReadingCard\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","useRecommendationCache","jsxDEV","_jsxDEV","NetflixStyleContinueReading","_s","token","recommendations","setRecommendations","loading","setLoading","error","setError","refreshing","setRefreshing","getCachedData","setCachedData","invalidateCache","fetchRecommendations","forceRefresh","cacheKey","cachedData","console","log","endpoint","method","cacheBuster","Date","now","fullUrl","response","fetch","headers","data","json","ok","message","err","handleRefresh","handleBookInteraction","bookName","action","body","JSON","stringify","book_name","book_author","book_genres","prev","filter","rec","next_book","title","handleBuyBook","payload","post","url","window","open","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","index","ContinueReadingCard","recommendation","onInteraction","onBuy","_c","attribution","series_name","verification_status","getVerificationBadge","author","_c2","$RefreshReg$"],"sources":["C:/Users/t-aliraiyan/Downloads/proj/recommending_Project/recommending_Project/Project/auth-app/frontend/src/components/NetflixStyleContinueReading.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useRecommendationCache } from '../context/RecommendationCacheContext';\r\n\r\nconst NetflixStyleContinueReading = () => {\r\n  const { token } = useAuth();\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const { getCachedData, setCachedData, invalidateCache } = useRecommendationCache();\r\n\r\n  useEffect(() => {\r\n    fetchRecommendations(false); // Use cache first on mount\r\n  }, []);\r\n\r\n  const fetchRecommendations = async (forceRefresh = false) => {\r\n    try {\r\n      const cacheKey = 'continue-reading';\r\n      \r\n      // Check cache first unless force refresh\r\n      if (!forceRefresh) {\r\n        const cachedData = getCachedData(cacheKey);\r\n        if (cachedData) {\r\n          console.log('Continue Reading: Using cached data:', cachedData);\r\n          setRecommendations(cachedData.recommendations || []);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const endpoint = forceRefresh\r\n        ? 'http://localhost:5000/api/continue-reading/refresh'\r\n        : 'http://localhost:5000/api/continue-reading/';\r\n      \r\n      const method = forceRefresh ? 'POST' : 'GET';\r\n      \r\n      const cacheBuster = forceRefresh ? `?t=${Date.now()}` : '';\r\n      const fullUrl = endpoint + cacheBuster;\r\n      \r\n      const response = await fetch(fullUrl, {\r\n        method: method,\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n          'Cache-Control': forceRefresh ? 'no-cache, no-store, must-revalidate' : 'max-age=300'\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (response.ok) {\r\n        console.log('Continue Reading: API response:', data);\r\n        setRecommendations(data.recommendations || []);\r\n        setError(null);\r\n        \r\n        // Cache the data\r\n        setCachedData(cacheKey, data);\r\n      } else {\r\n        console.error('Continue Reading: API error:', data);\r\n        setError(data.message || 'Failed to load recommendations');\r\n        setRecommendations([]);\r\n      }\r\n    } catch (err) {\r\n      setError('Network error occurred');\r\n      setRecommendations([]);\r\n      console.error('Continue reading fetch error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRefresh = async () => {\r\n    setRefreshing(true);\r\n    // Clear cache for this section\r\n    invalidateCache('continue-reading');\r\n    await fetchRecommendations(true);\r\n    setRefreshing(false);\r\n  };\r\n\r\n  const handleBookInteraction = async (bookName, action) => {\r\n    try {\r\n      const endpoint = action === 'like' ? '/api/books/like' : '/api/books/dislike';\r\n      \r\n      const response = await fetch(`http://localhost:5000${endpoint}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          book_name: bookName,\r\n          book_author: '',\r\n          book_genres: ''\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Use optimistic update instead of full refetch\r\n        // Remove the book from recommendations since user interacted with it\r\n        setRecommendations(prev => prev.filter(rec => rec.next_book.title !== bookName));\r\n      }\r\n    } catch (err) {\r\n      console.error('Interaction error:', err);\r\n    }\r\n  };\r\n\r\n  const handleBuyBook = async (bookName) => {\r\n    try {\r\n      const payload = {\r\n        book_name: bookName\r\n      };\r\n\r\n      const response = await axios.post('http://localhost:5000/api/books/buy', payload, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.data.url) {\r\n        // Open the book URL in a new tab\r\n        window.open(response.data.url, '_blank');\r\n      } else {\r\n        alert('Book purchase URL not available');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Buy book error:', error);\r\n      alert('Unable to get book purchase link');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section className=\"px-6 py-4\">\r\n        <div className=\"flex items-center justify-center py-8\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#553B08]\"></div>\r\n          <span className=\"ml-3 text-[#4A4A4A]\">Loading series recommendations...</span>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error && recommendations.length === 0) {\r\n    return (\r\n      <section className=\"px-6 py-4\">\r\n        <h2 className=\"text-lg font-semibold text-[#553B08] mb-2\">ðŸ“š Continue Reading</h2>\r\n        <div className=\"bg-[#ECE5D4] rounded-md p-6 text-center\">\r\n          <p className=\"text-[#4A4A4A] mb-2\">No series found</p>\r\n          <p className=\"text-[#6B6B6B] text-sm\">Like some books from series to see continue reading recommendations!</p>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className=\"px-6 py-4\">\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <div className=\"flex items-center\">\r\n          <h2 className=\"text-lg font-semibold text-[#553B08] mb-2\">ðŸ“š Continue Reading</h2>\r\n          {recommendations.length > 0 && (\r\n            <span className=\"ml-2 text-sm text-[#553B08] bg-[#ECE5D4] px-2 py-1 rounded-md\">\r\n              {recommendations.length} Series\r\n            </span>\r\n          )}\r\n          {refreshing && (\r\n            <span className=\"ml-2 text-sm text-[#553B08] bg-[#ECE5D4] px-2 py-1 rounded-md flex items-center\">\r\n              <div className=\"animate-spin rounded-full h-3 w-3 border-b border-[#553B08] mr-1\"></div>\r\n              Refreshing\r\n            </span>\r\n          )}\r\n        </div>\r\n        <button\r\n          onClick={handleRefresh}\r\n          disabled={refreshing}\r\n          className={`text-[#6B6B6B] hover:text-[#553B08] transition-colors duration-200 p-1 ${\r\n            refreshing ? 'opacity-50 cursor-not-allowed' : ''\r\n          }`}\r\n          title=\"Refresh recommendations\"\r\n        >\r\n          <svg\r\n            className={`w-5 h-5 ${refreshing ? 'animate-spin' : ''}`}\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {recommendations.length === 0 ? (\r\n        <div className=\"bg-[#ECE5D4] rounded-md p-6 text-center\">\r\n          <p className=\"text-[#4A4A4A]\">No series found</p>\r\n          <p className=\"text-[#6B6B6B] text-sm\">Like some books from series to see continue reading recommendations!</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex overflow-x-auto space-x-4 scrollbar-hide\">\r\n          {recommendations.map((rec, index) => (\r\n            <ContinueReadingCard\r\n              key={index}\r\n              recommendation={rec}\r\n              onInteraction={handleBookInteraction}\r\n              onBuy={handleBuyBook}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nconst ContinueReadingCard = ({ recommendation, onInteraction, onBuy }) => {\r\n  const { next_book, attribution, series_name, verification_status } = recommendation;\r\n\r\n  const getVerificationBadge = () => {\r\n    if (verification_status === 'verified') {\r\n      return (\r\n        <span className=\"inline-flex items-center px-2 py-1 rounded text-xs bg-green-500/20 text-green-600\">\r\n          âœ“ Verified\r\n        </span>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-72 h-56 bg-[#ECE5D4] rounded-md p-6 hover:scale-105 transition-transform duration-200 group relative flex-shrink-0 flex flex-col\">\r\n      <div className=\"mb-4 flex-grow\">\r\n        <h4 className=\"text-base font-semibold text-[#231F20] leading-tight mb-2 line-clamp-2\" title={next_book.title}>\r\n          {next_book.title}\r\n        </h4>\r\n        <p className=\"text-sm text-[#553B08] mb-2 line-clamp-1\" title={next_book.author}>\r\n          by {next_book.author}\r\n        </p>\r\n        <p className=\"text-sm text-green-600 mb-2 font-medium\">{attribution}</p>\r\n        \r\n        <div className=\"flex items-center gap-2 mb-3\">\r\n          <span className=\"bg-[#F3EDE3] text-[#553B08] px-2 py-1 rounded text-xs\">\r\n            {series_name}\r\n          </span>\r\n          {getVerificationBadge()}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-2 mt-auto\">\r\n        <button\r\n          onClick={() => onInteraction(next_book.title, 'like')}\r\n          className=\"flex-1 flex items-center justify-center px-2 py-2 rounded-md bg-green-500/20 text-green-600 hover:bg-green-500/30 transition-colors duration-200 text-sm font-medium\"\r\n          title=\"Like this book\"\r\n        >\r\n          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.60L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 712-2h2.5\" />\r\n          </svg>\r\n          Like\r\n        </button>\r\n        <button\r\n          onClick={() => onBuy(next_book.title)}\r\n          className=\"flex-1 flex items-center justify-center px-2 py-2 rounded-md bg-blue-900/20 text-blue-900 hover:bg-blue-900/30 transition-colors duration-200 text-sm font-medium\"\r\n          title=\"Buy this book\"\r\n        >\r\n          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6.5-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m6.5-5H9.5\" />\r\n          </svg>\r\n          Buy\r\n        </button>\r\n        <button\r\n          onClick={() => onInteraction(next_book.title, 'dislike')}\r\n          className=\"flex-1 flex items-center justify-center px-2 py-2 rounded-md bg-red-500/20 text-red-600 hover:bg-red-500/30 transition-colors duration-200 text-sm font-medium\"\r\n          title=\"Pass on this book\"\r\n        >\r\n          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 718.736 3h4.018c.163 0 .326.20.485.60L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 712 2v6a2 2 0 01-2 2h-2.5\" />\r\n          </svg>\r\n          Pass\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NetflixStyleContinueReading;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}